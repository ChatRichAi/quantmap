# 股票狙击手 - 快速开始指南

## 🎯 简介

股票狙击手是一个全自动A股超短线分析系统，整合多源数据生成交易决策支持报告。

## 🚀 快速使用

### 方式1: 直接对话触发
```
"运行股票狙击手扫描今日市场"
"分析 000001 平安银行"
"股票狙击手，扫描AI算力板块"
```

### 方式2: 命令行运行
```bash
# 扫描市场异动
cd skills/stock-sniper
./run.sh scan

# 分析指定股票
./run.sh analyze 000001 平安银行

# 或者直接使用Python
python3 scripts/stock_sniper.py --code 000001
python3 scripts/stock_sniper.py --scan --top 10
```

### 方式3: 定时自动运行
**已配置**: 每周一至周五 9:00 自动扫描

查看定时任务:
```bash
openclaw cron list
```

## 📊 输出文件

分析完成后，报告保存在 `output/` 目录：

| 文件类型 | 说明 |
|----------|------|
| `*_分析报告.md` | Markdown格式报告 |
| `*_分析报告.html` | HTML可视化页面 |
| `*_raw_data.json` | 原始数据（供二次分析） |
| `汇总报告_*.md` | 批量扫描汇总 |

## 🔧 功能模块

### 已实现功能 ✅

| 功能 | 状态 | 说明 |
|------|------|------|
| akshare实时数据 | ✅ | 行情、资金流向、龙虎榜 |
| 新闻热点获取 | ✅ | 东方财富、新浪财经 |
| 题材自动识别 | ✅ | 从新闻提取关联题材 |
| 股吧舆情分析 | ✅ | 看多/看空情绪比例 |
| 超短六要素评分 | ✅ | 加权评分系统 |
| Markdown报告 | ✅ | 结构化文字报告 |
| HTML可视化 | ✅ | 现代化图表页面 |
| 定时自动扫描 | ✅ | 工作日9:00自动运行 |

### 待完善功能 🔄

| 功能 | 状态 | 说明 |
|------|------|------|
| TradingView自动截图 | 🔄 | 需配合Chrome Relay手动操作 |
| 更多数据源 | 📋 | 雪球、同花顺等 |
| 历史回测 | 📋 | 策略效果验证 |

## 📁 文件结构

```
skills/stock-sniper/
├── SKILL.md                 # 技能主文档
├── run.sh                   # 快速启动脚本
├── scripts/                 # 核心脚本
│   ├── stock_sniper.py      # 主控脚本
│   ├── auto_scan.py         # 自动扫描入口
│   ├── market_scanner.py    # 市场扫描
│   ├── news_fetcher.py      # 新闻获取
│   ├── guba_sentiment.py    # 舆情分析
│   ├── tv_chart_capture.py  # TV图表
│   ├── technical_analyzer.py# 技术分析
│   └── report_generator.py  # 报告生成
├── references/              # 参考文档
│   ├── chaoduan_framework.md# 超短策略框架
│   ├── scoring_system.md    # 评分体系
│   └── tv_indicators.md     # TV指标说明
├── assets/                  # 资源文件
│   └── chart_styles.css     # HTML样式
└── output/                  # 输出目录
```

## 💡 使用示例

### 分析一只涨停股票
```bash
python3 scripts/stock_sniper.py --code 000001 --name 平安银行
```

输出示例:
```
🎯 股票狙击手 - 分析 000001 平安银行
============================================================

📊 [1/6] 获取基础数据...
  ✓ 资金流向: 主力净流入 5231.5 万元

📰 [2/6] 获取新闻热点...
  ✓ 获取到 8 条相关新闻
  ✓ 关联题材: 金融科技(3), 银行(2)

💬 [3/6] 获取股吧舆情...
  ✓ 舆情分析: 偏多 (7.5/10)
  ✓ 看多: 68% | 看空: 18%

📈 [4/6] 准备TradingView分析...

⚡ [5/6] 执行技术分析...
  ✓ 综合评分: 7.5/10
  ✓ 操作建议: 关注买入

📝 [6/6] 生成分析报告...
  ✓ Markdown报告: output/000001_平安银行_20250212_091500_分析报告.md
  ✓ HTML报告: output/000001_平安银行_20250212_091500_分析报告.html

============================================================
✅ 分析完成! 综合评分: 7.5/10
============================================================
```

### 批量扫描市场
```bash
python3 scripts/stock_sniper.py --scan --top 10
```

扫描后生成汇总报告，列出所有高分股票。

## ⚙️ 配置修改

### 修改扫描数量
编辑 `scripts/stock_sniper.py`，修改 `scan_and_analyze` 方法中的 `top_n` 参数。

### 修改评分权重
编辑 `scripts/technical_analyzer.py`，调整 `self.score_weights` 字典。

### 修改报告样式
编辑 `assets/chart_styles.css` 自定义HTML报告样式。

## ⚠️ 注意事项

1. **数据延迟**: akshare数据有约15分钟延迟，非实时
2. **新闻准确性**: 自动提取的新闻可能存在偏差，建议人工复核
3. **舆情样本**: 股吧分析基于有限样本，仅供参考
4. **投资建议**: 所有分析结果仅供参考，不构成投资建议

## 📝 更新计划

- [ ] TradingView 完全自动化截图
- [ ] 增加更多数据源（雪球、同花顺）
- [ ] 历史回测功能
- [ ] 微信/钉钉通知推送
- [ ] 自选股持续监控

---

**免责声明**: 本系统仅供学习研究使用，不构成投资建议。股市有风险，投资需谨慎。
